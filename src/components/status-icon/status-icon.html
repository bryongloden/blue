<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel='import' href='../../../bower_components/iron-icon/iron-icon.html'>
<link rel='import' href='../../../bower_components/paper-spinner/paper-spinner.html'>
<link rel='import' href='../../../bower_components/paper-tooltip/paper-tooltip.html'>

<dom-module id="status-icon">
  <template>
    <style>
      :host {
        display: inline-flex;
        align-items: center;
      }

      iron-icon {
        color: #9b9b9b;
      }

      iron-icon.highlight {
        color: var(--google-green-500);
      }

      paper-spinner {
        --paper-spinner-stroke-width: 1px;
        width: 18px;
        height: 18px;
        margin-right: 6px;
      }

      paper-tooltip ::content span {
        display: block;
        white-space: nowrap;
      }

      paper-tooltip ::content span + span {
        margin-top: 5px;
      }
    </style>

    <paper-spinner id='spinner' alt='checking...' hidden$='[[!showStatusCheck]]'></paper-spinner>

    <iron-icon icon='[[icon]]' id='icon'></iron-icon>

    <paper-tooltip for='icon' offset='5'>
      <div><content></content></div>
    </paper-tooltip>
  </template>

  <script>
    Polymer({
      is: 'status-icon',

      properties: {
        icon: {
          type: String,
          value: 'android'
        },
        showStatusCheck: {
          type: Boolean,
          value: false
        }
      },

      setIconStatus: function(status, isActive) {
        this.toggleClass(status, isActive, this.$.icon);
        this.updateStyles();
      },

      showSpinner: function() {
        this.$.spinner.active = true;
      },

      hideSpinner: function() {
        this.$.spinner.active = false;
      }
    });
  </script>
</dom-module>
